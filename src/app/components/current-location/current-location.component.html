@let position = currentPosition();

<div class="location-container">
  <div #map class="map"></div>

  @defer (when position) {
    <div class="coordinates-overlay">
      <div class="coordinates">
        {{ position?.lat | number: '1.6-6' }}°, {{ position?.lon | number: '1.6-6' }}°
      </div>
    </div>
  } @placeholder {
    <div class="location-info">
      <p>Requesting location...</p>
      <p class="hint">Please allow location access to see nearby departures</p>
    </div>
  }
</div>
